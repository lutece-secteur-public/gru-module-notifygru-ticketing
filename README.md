
#Module NotifyGru Ticketing

##Introduction
Le fournisseur de ressource (ticket) NotifyGru Ticketing fait le lien entre la tâche NotifyGru et le plugin ticketing. En effet, NotifyGru est conçu pour fonctionner avec une quelconque implémentation de la classe abstraite `fr.paris.lutece.plugins.workflow.modules.notifygru.service.AbstractServiceProvider` Lui-même implémentant l'interface `fr.paris.lutece.plugins.workflow.modules.notifygru.service.IProvider` qui définit les méthodes de base des fournisseurs.
##Implémentation

Le Module NotifyGru Ticketing est implémenté en fournisseur de ressource, c'est-à-dire qu'une seule instance de cette implémentation permet de fournir toutes les informations sur le plugin ticketing. Ceci a pour conséquence d'avoir une valeur de la propriété `managerProvider` toujours `FALSE` pour indiquer que nous avons une unique instance de ce service

Dans le fichier context, nous aurons comme déclaration de BEAN : `` 

##Configuration

La méthode `public int getOptionalDemandIdType( int nIdResourceHistory );` renvoi l'identifiant du type de demande par un système de mapping configuré dans le fichier des propriétés : `workflow-ticketing.demandType.ticketType.1=101 workflow-ticketing.demandType.ticketType.2=102workflow-ticketing.demandType.ticketType.3=103 workflow-ticketing.demandType.ticketType.4=104` 



##Utilisation du fournisseur

Lorsque la tâche est initialement créée et le fournisseur choisi, l'instance de celui-ci donne les informations disponibles via des signets. Ces signets pourront être utilisés pour paramétrer les messages ou les objets des différents onglets :

 
* Civilité ${civility}
* Prénom ${firstname}
* Nom ${lastname}
* Référence ${reference}
* Domaine ${ticket_domain}
* Nature de la sollicitation ${ticket_type}
* Assignation Entité / Agent ${unit_name}
* Problématique ${ticket_categorie}
* Commentaire ${comment}
* Mode de contact ${contact_mode}
* Téléphone fixe ${fixed_phone}
* Téléphone portable ${mobile_phone}
* Email ${email}
* URL de saisis ${url_completed}
* message de l'utilisateur ${user_message}

Lors de l'exécution de la tâche NotifyGru, l'instance du fournisseur donne toutes les informations nécessaires pour la construction du flux JSON.


[Maven documentation and reports](http://dev.lutece.paris.fr/plugins/module-notifygru-ticketing/)



 *generated by [xdoc2md](https://github.com/lutece-platform/tools-maven-xdoc2md-plugin) - do not edit directly.*